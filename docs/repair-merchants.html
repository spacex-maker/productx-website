<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Urban Portable Life and Sustainability - ProTX Team</title>
    <meta name="description" content="A website dedicated to urban portable living and environmental sustainability, developed by the ProTX Team.">
    <meta name="keywords" content="urban living, sustainability, environmental protection, ProTX team, portable lifestyle">

    <!-- Favicons -->
    <link href="assets/img/favicon.png" rel="icon">
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
          rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="assets/vendor/aos/aos.css" rel="stylesheet">
    <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
    <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

    <!-- Main CSS File -->
    <link href="assets/css/main.css" rel="stylesheet">

    <!-- 页面特定样式 -->
    <style>
        /* 商家卡片基础样式 */
        .merchant-card {
            background: #fff;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.06);
            height: 100%;
            position: relative;
            margin-bottom: 0;
            display: flex;
            flex-direction: column;
        }

        /* 商家封面样式 */
        .merchant-cover {
            position: relative;
            height: 140px;
            background: linear-gradient(45deg, #4CAF50, #2196F3);
            padding: 20px;
            color: #fff;
        }

        /* Logo包装器样式 */
        .merchant-logo-wrapper {
            position: absolute;
            left: 20px;
            top: 100px;
            padding: 4px;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .merchant-logo {
            width: 72px;
            height: 72px;
            border-radius: 8px;
            object-fit: cover;
        }

        /* 商户内容区域样式优化 */
        .merchant-content {
            padding: 16px;
            padding-top: 50px;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        /* 商户标题区域样式优化 */
        .merchant-header {
            margin-bottom: 8px;
        }

        .merchant-name {
            font-size: 16px;
            line-height: 1.3;
        }

        /* 服务标签样式优化 */
        .service-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 4px;
            margin-bottom: 8px;
        }

        .service-tag {
            background: #f0f7f0;
            color: #4CAF50;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 500;
        }

        /* 商户信息区域样式优化 */
        .merchant-info {
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid rgba(0, 0, 0, 0.06);
            display: flex;
            flex-direction: column;
            gap: 8px;
            flex: 1;
            position: relative;
            padding-bottom: 44px;
            overflow: visible;
        }

        /* 认证信息固定样式 */
        .info-item.verified {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 44px;
            margin: 0;
            padding: 0;
            background: linear-gradient(to right, rgba(76, 175, 80, 0.1), rgba(76, 175, 80, 0.05));
            border-top: 1px solid rgba(76, 175, 80, 0.1);
            /* 使用 flex 布局实现完全居中 */
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* 重置内部元素样式 */
        .info-item.verified i {
            margin: 0 6px 0 0;
            padding: 0;
            color: #4CAF50;
            font-size: 16px;
        }

        .info-item.verified span {
            margin: 0;
            padding: 0;
            color: #2e7d32;
            font-weight: 500;
            font-size: 13px;
        }

        /* 信息项基础样式 */
        .info-item {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            font-size: 13px;
            color: #666;
            padding: 4px 8px;
            border-radius: 6px;
        }

        .info-item i {
            font-size: 14px;
        }

        /* 统计信息样式优化 */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 6px;
            margin-top: 6px;
            margin-bottom: 8px;
        }

        .stat-item {
            padding: 6px;
            border-radius: 6px;
            background: #f8faf8;
        }

        .stat-value {
            font-size: 14px;
            margin-bottom: 2px;
        }

        .stat-label {
            font-size: 11px;
        }

        /* 操作按钮样式优化 */
        .merchant-actions {
            gap: 6px;
        }

        .action-btn {
            width: 32px;
            height: 32px;
        }

        /* 响应式调整 */
        @media (max-width: 768px) {
            .merchant-content {
                padding: 12px;
                padding-top: 45px;
            }
            
            .merchant-name {
                font-size: 15px;
            }
            
            .stats-container {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* 评分样式 */
        .merchant-rating {
            display: flex;
            align-items: center;
            gap: 4px;
            background: rgba(255, 255, 255, 0.2);
            padding: 6px 12px;
            border-radius: 20px;
        }

        .merchant-rating i {
            color: #ffc107;
        }

        /* 商家标题区域样式 */
        .merchant-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .merchant-name {
            font-size: 18px;
            font-weight: 600;
            margin: 0;
            color: #2c3e50;
        }

        /* 操作按钮样式 */
        .merchant-actions {
            display: flex;
            gap: 8px;
        }

        .action-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: #fff;
            transition: transform 0.3s ease;
        }

        .action-btn:hover {
            transform: scale(1.1);
        }

        .call-btn {
            background: #4CAF50;
        }

        .chat-btn {
            background: #2196F3;
        }

        /* 服务标签样式 */
        .service-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-bottom: 12px;
        }

        .service-tag {
            background: #f8f9fa;
            color: #4CAF50;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }

        /* 响应式调整 */
        @media (max-width: 768px) {
            .merchant-cover {
                height: 120px;
            }

            .merchant-logo-wrapper {
                top: 80px;
            }

            .merchant-logo {
                width: 64px;
                height: 64px;
            }

            .merchant-content {
                padding-top: 50px;
            }
        }

        /* 特色功能样式 */
        .hero-features {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin: 2rem 0;
            flex-wrap: wrap;
        }

        .feature-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(255, 255, 255, 0.1);
            padding: 0.8rem 1.5rem;
            border-radius: 50px;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .feature-item:hover {
            transform: translateY(-3px);
            background: rgba(255, 255, 255, 0.2);
        }

        .feature-item i {
            font-size: 1.2rem;
            color: #4CAF50;
        }

        .feature-item span {
            color: #fff;
            font-weight: 500;
        }

        /* 数据亮点样式 */
        .service-highlights {
            margin-top: 3rem;
        }

        .highlight-box {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 1.5rem;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .highlight-box:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.15);
        }

        .highlight-box h3 {
            color: #4CAF50;
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .highlight-box p {
            color: #fff;
            margin: 0;
            font-size: 1rem;
        }

        /* 响应式调整 */
        @media (max-width: 768px) {
            .hero-features {
                gap: 1rem;
            }

            .feature-item {
                padding: 0.6rem 1rem;
                font-size: 0.9rem;
            }

            .highlight-box h3 {
                font-size: 1.5rem;
            }

            .highlight-box p {
                font-size: 0.9rem;
            }
        }

        .lead {
            font-size: 1.25rem;
            font-weight: 300;
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.9);
        }

        /* 搜索区域样式 */
        .search-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            margin-top: -50px;
            position: relative;
            z-index: 100;
        }

        .search-form {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* 输入框组样式 */
        .search-input-group {
            position: relative;
            margin-bottom: 0.5rem;
        }

        .search-input-group i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #4CAF50;
            font-size: 1.2rem;
            z-index: 2;
        }

        .search-input-group .form-control,
        .search-input-group .form-select {
            padding-left: 45px;
            height: 54px;
            border-radius: 12px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            font-size: 1rem;
            transition: all 0.3s ease;
            background-color: #fff;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 0.75rem center;
            background-size: 16px 12px;
        }

        .search-input-group .form-control:focus,
        .search-input-group .form-select:focus {
            border-color: #4CAF50;
            box-shadow: 0 0 0 0.2rem rgba(76, 175, 80, 0.25);
        }

        /* 按钮样式 */
        .search-actions {
            display: flex;
            gap: 10px;
            height: 100%;
        }

        .search-actions .btn {
            flex: 1;
            height: 54px;  /* 与搜索框同高 */
            border-radius: 12px;
            font-size: 0.95rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all 0.3s ease;
        }

        .search-actions .search-btn {
            background: #4CAF50;
            border-color: #4CAF50;
        }

        .search-actions .search-btn:hover {
            background: #45a049;
            border-color: #45a049;
            transform: translateY(-1px);
        }

        .search-actions .reset-btn {
            border: 1px solid #dee2e6;
            color: #6c757d;
        }

        .search-actions .reset-btn:hover {
            background-color: #f8f9fa;
            transform: translateY(-1px);
        }

        .search-actions i {
            font-size: 1.1rem;
        }

        /* 响应式调整 */
        @media (max-width: 992px) {
            .search-actions {
                margin-top: 0;
            }
            
            .search-actions .btn {
                height: 48px;
                font-size: 0.9rem;
            }
        }

        /* Select2 自定义样式 */
        .select2-container {
            width: 100% !important;
        }

        .select2-container .select2-selection--multiple {
            min-height: 54px;
            border-radius: 12px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            padding-left: 45px;
        }

        .select2-container--default .select2-selection--multiple .select2-selection__choice {
            background-color: #4CAF50;
            border: none;
            color: white;
            border-radius: 20px;
            padding: 2px 10px;
        }

        .select2-container--default .select2-selection--multiple .select2-selection__choice__remove {
            color: white;
            margin-right: 5px;
        }

        /* 自定义下拉框样式 */
        .custom-dropdown .dropdown-toggle {
            height: 54px;
            border-radius: 12px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            background-color: #fff;
            font-size: 1rem;
            display: flex;
            align-items: center;
            padding: 0 15px;
            position: relative;
            text-align: left;
        }

        .custom-dropdown .dropdown-toggle i {
            color: #4CAF50;
            font-size: 1.2rem;
            margin-right: 10px;
        }

        .custom-dropdown .dropdown-toggle span {
            flex: 1;
        }

        .custom-dropdown .dropdown-toggle::after {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
        }

        .custom-dropdown .dropdown-menu {
            width: 100%;
            padding: 8px;
            border: none;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            margin-top: 4px;
        }

        .custom-dropdown .dropdown-item {
            padding: 12px 16px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.2s ease;
            white-space: nowrap;
        }

        .custom-dropdown .dropdown-item i {
            font-size: 1.1rem;
            color: #4CAF50;
            width: 20px;
            text-align: center;
        }

        .custom-dropdown .dropdown-item span {
            flex: 1;
        }

        .custom-dropdown .dropdown-item:hover,
        .custom-dropdown .dropdown-item:focus {
            background-color: rgba(76, 175, 80, 0.1);
            color: #4CAF50;
        }

        .custom-dropdown .dropdown-item.active {
            background-color: #4CAF50;
            color: white;
        }

        .custom-dropdown .dropdown-item.active i {
            color: white;
        }

        /* 响应式调整 */
        @media (max-width: 768px) {
            .custom-dropdown .dropdown-toggle {
                height: 48px;
                font-size: 0.95rem;
            }
        }

        /* 入驻按钮样式 */
        .btn-join {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            padding: 12px 32px;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 500;
            border: none;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-join:hover {
            background: linear-gradient(45deg, #45a049, #4CAF50);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
            color: white;
        }

        .btn-join i {
            font-size: 1.2rem;
        }

        .hero-cta {
            margin-bottom: 2rem;
        }

        /* 响应式调整 */
        @media (max-width: 768px) {
            .btn-join {
                padding: 10px 24px;
                font-size: 1rem;
            }
        }

        /* VIP 等级样式 */
        .vip-badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }

        .vip-badge i {
            font-size: 14px;
        }

        /* 普通会员 */
        .vip-badge-0 {
            background: #f8f9fa;
            color: #6c757d;
        }

        /* 白银会员 */
        .vip-badge-1 {
            background: linear-gradient(45deg, #C0C0C0, #E8E8E8);
            color: #666;
        }

        /* 黄金会员 */
        .vip-badge-2 {
            background: linear-gradient(45deg, #FFD700, #FFC107);
            color: #856404;
        }

        /* 铂金会员 */
        .vip-badge-3 {
            background: linear-gradient(45deg, #E5E4E2, #B9B8B7);
            color: #4a4a4a;
        }

        /* 黑金会员 */
        .vip-badge-4 {
            background: linear-gradient(45deg, #000000, #333333);
            color: #ffd700;
        }

        /* 合作计划认证标识样式 */
        .partner-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
            margin-top: 8px;
        }

        .partner-badge i {
            font-size: 14px;
        }

        /* 已加入合作计划样式 */
        .partner-badge-active {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            box-shadow: 0 2px 4px rgba(76, 175, 80, 0.2);
        }

        /* 未加入合作计划样式 */
        .partner-badge-inactive {
            background: #f5f5f5;
            color: #999;
        }

        /* 认证标识组样式 */
        .merchant-badges {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        /* 合作商认证标识样式 */
        .partner-badge {
            background: rgba(255, 255, 255, 0.9);
            color: #4CAF50;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 4px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(4px);
        }

        .partner-badge i {
            font-size: 14px;
        }

        .partner-badge-active {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
        }

        /* VIP 等级样式 */
        .vip-badge {
            background: rgba(255, 255, 255, 0.9);
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 4px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(4px);
        }

        .vip-badge i {
            font-size: 14px;
        }

        /* VIP 等级颜色样式 */
        .vip-badge-1 {
            background: linear-gradient(45deg, #C0C0C0, #E8E8E8);
            color: #666;
        }

        .vip-badge-2 {
            background: linear-gradient(45deg, #FFD700, #FFC107);
            color: #856404;
        }

        .vip-badge-3 {
            background: linear-gradient(45deg, #E5E4E2, #B9B8B7);
            color: #4a4a4a;
        }

        .vip-badge-4 {
            background: linear-gradient(45deg, #000000, #333333);
            color: #ffd700;
        }

        /* 响应式调整 */
        @media (max-width: 768px) {
            .merchant-badges {
                gap: 4px;
            }

            .partner-badge,
            .vip-badge {
                padding: 2px 6px;
                font-size: 11px;
            }
        }

        /* Logo 容器样式 */
        .merchant-logo-container {
            position: relative;
            width: 100%;
            height: 100%;
        }

        /* VIP 标识在 Logo 右上角的样式 */
        .merchant-logo-container .vip-badge {
            position: absolute;
            top: -6px;
            right: -6px;
            padding: 3px 6px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
            border: 2px solid #fff;
            z-index: 2;
        }

        .merchant-logo-container .vip-badge i {
            font-size: 12px;
        }

        /* VIP 等级样式优化 */
        .vip-badge-1 {
            background: linear-gradient(45deg, #C0C0C0, #E8E8E8);
            color: #666;
        }

        .vip-badge-2 {
            background: linear-gradient(45deg, #FFD700, #FFC107);
            color: #856404;
        }

        .vip-badge-3 {
            background: linear-gradient(45deg, #E5E4E2, #B9B8B7);
            color: #4a4a4a;
        }

        .vip-badge-4 {
            background: linear-gradient(45deg, #000000, #333333);
            color: #ffd700;
        }

        /* 响应式调整 */
        @media (max-width: 768px) {
            .merchant-logo-container .vip-badge {
                padding: 2px 5px;
                font-size: 10px;
            }

            .merchant-logo-container .vip-badge i {
                font-size: 11px;
            }
        }


        /* 评分和认证标识容器样式调整 */
        .merchant-header-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
        }

        /* 评分样式优化 */
        .merchant-rating {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            background: rgba(255, 255, 255, 0.2);
            padding: 6px 12px;
            border-radius: 20px;
            backdrop-filter: blur(4px);
        }

        /* 认证标识样式优化 */
        .partner-badge {
            margin: 0;  /* 移除之前的 margin */
            height: fit-content;
        }

        .partner-badge-active {
            background: rgba(255, 255, 255, 0.9);
            color: #4CAF50;
            padding: 6px 12px;
            border-radius: 20px;
            backdrop-filter: blur(4px);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .partner-badge-active:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        /* 调整列的下边距 */
        .col-lg-4.col-md-6 {
            margin-bottom: 16px;
            padding: 8px;
        }

        @media (max-width: 768px) {
            .col-lg-4.col-md-6 {
                margin-bottom: 12px;
                padding: 6px;
            }
            
            .row.g-4 {
                margin: 0 -6px;
                row-gap: 12px !important;
            }
            
            .pagination-container {
                margin-top: 12px;
            }
        }

        /* 登录按钮和下拉菜单样式 */
        .auth-buttons {
            display: flex;
            gap: 10px;
        }

        .btn-login {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 8px 20px;
            border-radius: 50px;
            color: #fff;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 6px;
            text-decoration: none;
            cursor: pointer;
        }

        .btn-login:hover,
        .btn-login:focus {
            background: rgba(255, 255, 255, 0.2);
            color: #fff;
            transform: translateY(-2px);
        }

        .login-dropdown {
            min-width: 160px;
            padding: 8px 0;
            margin-top: 8px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .login-dropdown .dropdown-item {
            padding: 8px 16px;
            color: #333;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
        }

        .login-dropdown .dropdown-item:hover {
            background: rgba(76, 175, 80, 0.1);
            color: #4CAF50;
        }

        .login-dropdown .dropdown-item i {
            font-size: 16px;
        }

        .dropdown-divider {
            margin: 8px 0;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }

        /* 滚动状态下的样式调整 */
        .scrolled .btn-login {
            color: #333;
            background: rgba(0, 0, 0, 0.05);
            border-color: rgba(0, 0, 0, 0.08);
        }

        /* 响应式调整 */
        @media (max-width: 768px) {
            .btn-login {
                padding: 6px 16px;
                font-size: 13px;
            }
        }

        .service-tags .badge {
            margin-right: 8px;
            margin-bottom: 8px;
            padding: 8px 12px;
            font-size: 14px;
            background-color: rgba(76, 175, 80, 0.1);
            color: #4CAF50;
            border-radius: 20px;
        }

        .merchant-info p {
            margin-bottom: 10px;
        }

        .merchant-info i {
            width: 20px;
            color: #4CAF50;
            margin-right: 8px;
        }

        #modalMerchantLogo {
            border: 1px solid rgba(0,0,0,0.1);
            padding: 10px;
        }
    </style>
</head>

<body class="index-page">

<!-- Header Section -->
<header id="header" class="header fixed-top">
  <div class="container-fluid position-relative d-flex align-items-center justify-content-between">
    <a href="index.html" class="logo d-flex align-items-center me-auto me-xl-0">
      <h1 class="sitename">Pro<span class="highlight">TX</span></h1>
    </a>

    <nav id="navmenu" class="navmenu">
      <ul>
        <li><a href="index.html#hero" class="active" data-i18n="home"></a></li>
        <li><a href="index.html#about" data-i18n="aboutUs"></a></li>
        <li class="dropdown">
          <a href="#"><span data-i18n="categories">商品分类</span> <i
              class="bi bi-chevron-down toggle-dropdown"></i></a>
          <ul class="dropdown-menu">
            <div class="dropdown-header">热门分类</div>
            <li><a href="#"><i class="bi bi-phone"></i><span data-i18n="electronics">电子产品</span></a>
            </li>
            <li><a href="#"><i class="bi bi-handbag"></i><span data-i18n="fashion">服饰箱包</span></a></li>
            <div class="dropdown-divider"></div>
            <div class="dropdown-header">家居生活</div>
            <li><a href="#"><i class="bi bi-tv"></i><span data-i18n="homeAppliances">家用电器</span></a>
            </li>
            <li><a href="#"><i class="bi bi-house"></i><span data-i18n="furniture">家具家居</span></a></li>
            <div class="dropdown-divider"></div>
            <div class="dropdown-header">文体娱乐</div>
            <li><a href="#"><i class="bi bi-book"></i><span data-i18n="books">图书文具</span></a></li>
            <li><a href="#"><i class="bi bi-bicycle"></i><span data-i18n="sports">运动户外</span></a></li>
            <div class="dropdown-divider"></div>
            <div class="dropdown-header">精品收藏</div>
            <li><a href="#"><i class="bi bi-gem"></i><span data-i18n="luxury">奢侈品</span></a></li>
            <li><a href="#"><i class="bi bi-trophy"></i><span data-i18n="collectibles">收藏品</span></a>
            </li>
          </ul>
        </li>
        <li><a href="index.html#portfolio" data-i18n="portfolio"></a></li>
        <li class="dropdown">
          <a href="#"><span data-i18n="services">增值服务</span> <i
              class="bi bi-chevron-down toggle-dropdown"></i></a>
          <ul class="dropdown-menu">
            <div class="dropdown-header">交易服务</div>
            <li><a href="#"><i class="bi bi-shield-check"></i><span
                data-i18n="authentication">鉴定服务</span></a></li>
            <li><a href="#"><i class="bi bi-recycle"></i><span data-i18n="recycling">回收服务</span></a>
            </li>
            <div class="dropdown-divider"></div>
            <div class="dropdown-header">增值服务</div>
            <li><a href="#"><i class="bi bi-tools"></i><span data-i18n="maintenance">维修保养</span></a>
            </li>
            <li><a href="#"><i class="bi bi-truck"></i><span data-i18n="logistics">物流配送</span></a></li>
            <div class="dropdown-divider"></div>
            <div class="dropdown-header">金融服务</div>
            <li><a href="#"><i class="bi bi-umbrella"></i><span data-i18n="insurance">交易保险</span></a>
            </li>
            <li><a href="#"><i class="bi bi-credit-card"></i><span data-i18n="financing">分期付款</span></a>
            </li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#"><span data-i18n="community">社区中心</span> <i
              class="bi bi-chevron-down toggle-dropdown"></i></a>
          <ul class="dropdown-menu">
            <div class="dropdown-header">社区交流</div>
            <li><a href="#"><i class="bi bi-chat-dots"></i><span data-i18n="forum">交流论坛</span></a></li>
            <li><a href="#"><i class="bi bi-journal-text"></i><span data-i18n="blog">经验分享</span></a>
            </li>
            <div class="dropdown-divider"></div>
            <div class="dropdown-header">新手帮助</div>
            <li><a href="#"><i class="bi bi-book"></i><span data-i18n="guide">新手指南</span></a></li>
            <li><a href="#"><i class="bi bi-search"></i><span data-i18n="evaluation">商品测评</span></a>
            </li>
            <div class="dropdown-divider"></div>
            <div class="dropdown-header">成功案例</div>
            <li><a href="#"><i class="bi bi-trophy"></i><span data-i18n="stories">成功案例</span></a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#"><span data-i18n="help">帮助中心</span> <i
              class="bi bi-chevron-down toggle-dropdown"></i></a>
          <ul class="dropdown-menu">
            <div class="dropdown-header">常见问题</div>
            <li><a href="#"><i class="bi bi-question-circle"></i><span data-i18n="faq">常见问题</span></a>
            </li>
            <div class="dropdown-divider"></div>
            <div class="dropdown-header">交易指南</div>
            <li><a href="#"><i class="bi bi-cart-check"></i><span data-i18n="buyerGuide">买家指南</span></a>
            </li>
            <li><a class="dropdown-item" href="#"><i class="bi bi-shop"></i>卖家指南</a></li>
            <div class="dropdown-divider"></div>
            <div class="dropdown-header">平台规则</div>
            <li><a href="#"><i class="bi bi-file-text"></i><span data-i18n="rules">平台规则</span></a></li>
            <li><a href="#"><i class="bi bi-shield-check"></i><span data-i18n="security">安全保障</span></a>
            </li>
            <li><a href="#"><i class="bi bi-chat-left-dots"></i><span
                data-i18n="feedback">意见反馈</span></a></li>
          </ul>
        </li>
        <li><a href="index.html#contact" data-i18n="contact"></a></li>
        <!-- 在导航菜单中添加房地产数据统计的下拉菜单项 -->
        <li class="dropdown">
          <a href="#"><span data-i18n="statistics">数据统计</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
          <ul class="dropdown-menu">
            <div class="dropdown-header" data-i18n="realEstateData">房地产数据</div>
            <li>
              <a href="dubai-estate.html">
                <i class="bi bi-building"></i>
                <span data-i18n="dubaiEstateStatistics">迪拜房地产统计</span>
              </a>
            </li>
            <div class="dropdown-divider"></div>
            <div class="dropdown-header" data-i18n="moreData">更多数据</div>
            <li>
              <a href="#">
                <i class="bi bi-graph-up"></i>
                <span data-i18n="transactionData">交易数据统计</span>
              </a>
            </li>
            <li>
              <a href="#">
                <i class="bi bi-pie-chart"></i>
                <span data-i18n="marketAnalysis">市场分析报告</span>
              </a>
            </li>
          </ul>
        </li>
      </ul>
      <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
    </nav>

    <!-- 只添加下载按钮 -->
    <a href="download.html" class="btn-download">
      <i class="bi bi-download"></i>
      <span>下载APP</span>
    </a>

    <!-- 现有的语言选择器 -->
    <div class="language-selector">
      <div class="dropdown">
        <button class="btn dropdown-toggle" type="button" id="languageDropdown" data-bs-toggle="dropdown" aria-expanded="false">
          <i class="bi bi-globe"></i>
          <span class="current-lang"></span>
        </button>
        <ul class="dropdown-menu" aria-labelledby="languageDropdown">
          <li><a class="dropdown-item" href="#" data-lang="ar">العربية</a></li>
          <li><a class="dropdown-item" href="#" data-lang="de">Deutsch</a></li>
          <li><a class="dropdown-item" href="#" data-lang="en">English</a></li>
          <li><a class="dropdown-item" href="#" data-lang="es">Español</a></li>
          <li><a class="dropdown-item" href="#" data-lang="fr">Français</a></li>
          <li><a class="dropdown-item" href="#" data-lang="it">Italiano</a></li>
          <li><a class="dropdown-item" href="#" data-lang="ja">日本語</a></li>
          <li><a class="dropdown-item" href="#" data-lang="ko">한국어</a></li>
          <li><a class="dropdown-item" href="#" data-lang="ru">Русский</a></li>
          <li><a class="dropdown-item" href="#" data-lang="zh">中文</a></li>
        </ul>
      </div>
    </div>

    <!-- 登录/用户信息部分 -->
    <div class="auth-buttons ms-3">
      <!-- 未登录状态 -->
      <div class="dropdown" id="authDropdown">
        <button class="btn-login dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
          <i class="bi bi-person"></i> <span data-i18n="signIn">登录</span>
        </button>
        <ul class="login-dropdown dropdown-menu">
          <li><a class="dropdown-item" href="merchants-login.html">
            <i class="bi bi-shop"></i> <span data-i18n="merchantSignIn">商户登录</span>
          </a></li>
          <li><a class="dropdown-item" href="login.html">
            <i class="bi bi-person"></i> <span data-i18n="userSignIn">用户登录</span>
          </a></li>
          <div class="dropdown-divider"></div>
          <li><a class="dropdown-item" href="merchants-login.html?tab=register">
            <i class="bi bi-person-plus"></i> <span data-i18n="merchantSignUp">商户注册</span>
          </a></li>
          <li><a class="dropdown-item" href="login.html?tab=register">
            <i class="bi bi-person-plus"></i> <span data-i18n="userSignUp">用户注册</span>
          </a></li>
        </ul>
      </div>

      <!-- 登录后状态 -->
      <div id="userInfo" class="d-none">
        <div class="dropdown">
          <button class="btn-user dropdown-toggle" type="button" data-bs-toggle="dropdown">
            <img src="assets/img/default-avatar.png" alt="User" id="merchantLogo">
            <span class="merchant-name" id="merchantName">商户名称</span>
          </button>
          <ul class="dropdown-menu">
            <li class="merchant-info">
              <div><i class="bi bi-person"></i><span id="contactPerson"></span></div>
              <div><i class="bi bi-telephone"></i><span id="contactPhone"></span></div>
              <div><i class="bi bi-envelope"></i><span id="contactEmail"></span></div>
              <div><i class="bi bi-bell"></i>待处理订单 <span class="badge bg-danger" id="pendingOrders">0</span></div>
            </li>
            <div class="dropdown-divider"></div>
            <li><a class="dropdown-item" href="#"><i class="bi bi-person"></i>商户信息</a></li>
            <li><a class="dropdown-item" href="#"><i class="bi bi-gear"></i>账户设置</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="#" id="logoutBtn"><i class="bi bi-box-arrow-right"></i>退出登录</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>

<main class="main">
    <!-- Hero Section -->
    <section id="hero" class="hero section dark-background">
        <img src="assets/img/hero-bg.jpg" alt="" data-aos="fade-in">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-10 text-center mb-5">
                    <h2 data-aos="fade-up" data-aos-delay="100">全球优质维修服务商户联盟</h2>
                    <p class="lead mb-4" data-aos="fade-up" data-aos-delay="200">
                        汇聚超10万家认证维修服务商，打造全球化一站式维修服务平台
                    </p>
                    <div class="hero-cta mt-4" data-aos="fade-up" data-aos-delay="300">
                        <a href="merchants-login.html?tab=register" class="btn btn-join">
                            <i class="bi bi-shop"></i> 我要入驻
                        </a>
                    </div>
                    <div class="hero-features mt-5" data-aos="fade-up" data-aos-delay="400">
                        <div class="feature-item">
                            <i class="bi bi-shield-check"></i>
                            <span>严格资质认证</span>
                        </div>
                        <div class="feature-item">
                            <i class="bi bi-gear-wide-connected"></i>
                            <span>专业技术支持</span>
                        </div>
                        <div class="feature-item">
                            <i class="bi bi-clock-history"></i>
                            <span>7×24小时服务</span>
                        </div>
                        <div class="feature-item">
                            <i class="bi bi-graph-up-arrow"></i>
                            <span>透明价格体系</span>
                        </div>
                    </div>
                    <div class="service-highlights mt-4" data-aos="fade-up" data-aos-delay="400">
                        <div class="row g-4">
                            <div class="col-md-3">
                                <div class="highlight-box">
                                    <h3>100,000+</h3>
                                    <p>认证维修商户</p>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="highlight-box">
                                    <h3>50+</h3>
                                    <p>覆盖国家地区</p>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="highlight-box">
                                    <h3>98%</h3>
                                    <p>服务满意度</p>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="highlight-box">
                                    <h3>1000万+</h3>
                                    <p>累计服务用户</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 商户列表部分 -->
    <section id="merchants" class="merchants section">
        <div class="container">
            <!-- 搜索表单 -->
            <div class="search-container mb-5" data-aos="fade-up">
                <form id="searchForm" class="search-form">
                    <div class="row g-4">
                        <!-- 商户名称搜索 -->
                        <div class="col-lg-2 col-md-6">
                            <div class="search-input-group">
                                <i class="bi bi-shop"></i>
                                <input type="text" 
                                       class="form-control" 
                                       name="merchantName" 
                                       placeholder="搜索商户名称">
                            </div>
                        </div>

                        <!-- 国家选择 -->
                        <div class="col-lg-2 col-md-6">
                            <div class="dropdown custom-dropdown">
                                <button class="form-control dropdown-toggle" type="button" id="countryDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                    <i class="bi bi-globe"></i>
                                    <span>选择国家</span>
                                </button>
                                <ul class="dropdown-menu" aria-labelledby="countryDropdown">
                                    <li><a class="dropdown-item" href="#" data-value="CN">
                                        <i class="bi bi-flag"></i>
                                        <span>中国</span>
                                    </a></li>
                                    <li><a class="dropdown-item" href="#" data-value="AE">
                                        <i class="bi bi-flag"></i>
                                        <span>阿联酋</span>
                                    </a></li>
                                    <li><a class="dropdown-item" href="#" data-value="US">
                                        <i class="bi bi-flag"></i>
                                        <span>美国</span>
                                    </a></li>
                                    <li><a class="dropdown-item" href="#" data-value="GB">
                                        <i class="bi bi-flag"></i>
                                        <span>英国</span>
                                    </a></li>
                                    <li><a class="dropdown-item" href="#" data-value="JP">
                                        <i class="bi bi-flag"></i>
                                        <span>日本</span>
                                    </a></li>
                                </ul>
                                <input type="hidden" name="country" value="">
                            </div>
                        </div>

                        <!-- 城市搜索 -->
                        <div class="col-lg-2 col-md-6">
                            <div class="search-input-group">
                                <i class="bi bi-geo-alt"></i>
                                <input type="text" 
                                       class="form-control" 
                                       name="city" 
                                       placeholder="选择城市">
                            </div>
                        </div>

                        <!-- 维修类型选择 -->
                        <div class="col-lg-3 col-md-6">
                            <div class="dropdown custom-dropdown">
                                <button class="form-control dropdown-toggle" type="button" id="serviceTypeDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                    <i class="bi bi-tools"></i>
                                    <span>选择维修类型</span>
                                </button>
                                <ul class="dropdown-menu" aria-labelledby="serviceTypeDropdown">
                                    <li><a class="dropdown-item" href="#" data-value="mobileRepair">
                                        <i class="bi bi-phone"></i>
                                        <span>手机维修</span>
                                    </a></li>
                                    <li><a class="dropdown-item" href="#" data-value="computerRepair">
                                        <i class="bi bi-laptop"></i>
                                        <span>电脑维修</span>
                                    </a></li>
                                    <li><a class="dropdown-item" href="#" data-value="carRepair">
                                        <i class="bi bi-car-front"></i>
                                        <span>汽车维修</span>
                                    </a></li>
                                    <li><a class="dropdown-item" href="#" data-value="electricalRepair">
                                        <i class="bi bi-lightning"></i>
                                        <span>电器维修</span>
                                    </a></li>
                                    <li><a class="dropdown-item" href="#" data-value="plumbing">
                                        <i class="bi bi-wrench"></i>
                                        <span>管道维修</span>
                                    </a></li>
                                </ul>
                                <input type="hidden" name="serviceTypes" value="">
                            </div>
                        </div>

                        <!-- 搜索和重置按钮 -->
                        <div class="col-lg-3 col-md-12">
                            <div class="search-actions">
                                <button type="submit" class="btn btn-primary search-btn">
                                    <i class="bi bi-search"></i> 搜索
                                </button>
                                <button type="reset" class="btn btn-outline-secondary reset-btn">
                                    <i class="bi bi-arrow-counterclockwise"></i> 重置
                                </button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <!-- 商户列表 -->
            <div class="row g-4" id="merchantsList">
                <!-- 商户卡片将通过 JS 动态插入 -->
            </div>

            <!-- 分页控件 -->
            <div class="pagination-container mt-4" id="pagination">
                <nav aria-label="Page navigation">
                    <ul class="pagination justify-content-center">
                        <!-- 分页按钮将通过 JS 动态插入 -->
                    </ul>
                </nav>
            </div>
        </div>
    </section>
</main>

<!-- Footer Section -->
<footer id="footer" class="footer">
    <!-- ... footer 内容保持不变 ... -->
</footer>

<!-- Scroll Top Button -->
<a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center">
    <i class="bi bi-arrow-up-short"></i>
</a>

<!-- Preloader -->
<div id="preloader"></div>

<!-- Vendor JS Files -->
<script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="assets/vendor/aos/aos.js"></script>
<script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
<script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
<script src="assets/vendor/swiper/swiper-bundle.min.js"></script>

<!-- Template Main JS File -->
<script src="assets/js/main.js"></script>
<script src="assets/js/i18n.js"></script>

<!-- 商户列表相关脚本 -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    let currentPage = 1;
    const pageSize = 12;
    const baseUrl = 'http://127.0.0.1:8090';

    // 加载商户列表
    function loadMerchants(page = 1) {
        const formData = new FormData(document.getElementById('searchForm'));
        const params = {
            pageNum: page,
            pageSize: pageSize,
            merchantName: formData.get('merchantName'),
            country: formData.get('country'),
            city: formData.get('city'),
            serviceTypes: formData.get('serviceTypes')
        };

        fetch(`${baseUrl}/manage/base/repair-service-merchants/list-for-main-page?${new URLSearchParams(params)}`)
            .then(res => res.json())
            .then(res => {
                if(res.success) {
                    renderMerchants(res.data.data);
                    renderPagination(res.data.totalNum);
                }
            })
            .catch(error => console.error('Error:', error));
    }

    // 渲染商户列表
    function renderMerchants(merchants) {
        const defaultAvatar = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%23f0f0f0'/%3E%3Cpath d='M50 30 C40 30 32 38 32 48 C32 58 40 66 50 66 C60 66 68 58 68 48 C68 38 60 30 50 30 Z M50 70 C35 70 25 80 25 85 L75 85 C75 80 65 70 50 70' fill='%23ccc'/%3E%3C/svg%3E";

        const container = document.getElementById('merchantsList');
        container.innerHTML = merchants.map(merchant => `
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="merchant-card">
                    <div class="merchant-cover">
                        <div class="cover-content">
                            <div class="merchant-header-info">
                                <div class="merchant-rating">
                                    <i class="bi bi-star-fill"></i>
                                    <span>${merchant.rating.toFixed(1)}</span>
                                    <small>(${merchant.totalReviews})</small>
                                </div>
                                ${getPartnerBadge(merchant.joinedPartnerProgram)}
                            </div>
                        </div>
                    </div>
                    <div class="merchant-logo-wrapper">
                        <div class="merchant-logo-container">
                            <img src="${merchant.merchantLogo || defaultAvatar}" 
                                 class="merchant-logo" 
                                 alt="${merchant.merchantName}"
                                 onerror="this.src='${defaultAvatar}'"
                                 loading="lazy">
                            ${getVipBadge(merchant.vipLevel)}
                        </div>
                    </div>
                    <div class="merchant-content">
                        <div class="merchant-header">
                            <h4 class="merchant-name">
                                <a href="javascript:void(0)" class="merchant-name-link" data-id="${merchant.id}">
                                    ${merchant.merchantName}
                                </a>
                            </h4>
                            <div class="merchant-actions">
                                <a href="tel:${merchant.contactPhone}" class="action-btn call-btn" title="电话联系">
                                    <i class="bi bi-telephone"></i>
                                </a>
                                <button class="action-btn chat-btn" title="在线咨询">
                                    <i class="bi bi-chat-dots"></i>
                                </button>
                            </div>
                        </div>
                        <div class="service-tags">
                            ${renderServiceTypes(merchant.serviceTypes)}
                        </div>
                        <div class="merchant-info">
                            <div class="info-item primary">
                                <i class="bi bi-geo-alt"></i>
                                <span>${merchant.address || '暂无地址'}</span>
                            </div>
                            
                            <div class="info-item">
                                <i class="bi bi-clock"></i>
                                <span>${merchant.workingHours || '暂无营业时间'}</span>
                            </div>
                            
                            <div class="info-item">
                                <i class="bi bi-flag"></i>
                                <span>${merchant.city}${merchant.province ? `, ${merchant.province}` : ''} ${merchant.countryCode ? `(${merchant.countryCode})` : ''}</span>
                            </div>
                            
                            ${merchant.certifications ? `
                            <div class="info-item">
                                <i class="bi bi-patch-check"></i>
                                <span>${merchant.certifications}</span>
                            </div>
                            ` : ''}
                            
                            <div class="stats-container">
                                <div class="stat-item">
                                    <div class="stat-value">${merchant.completedOrders || 0}</div>
                                    <div class="stat-label">完成订单</div>
                                </div>
                                
                                ${merchant.avgCompletionTime ? `
                                <div class="stat-item">
                                    <div class="stat-value">${merchant.avgCompletionTime}</div>
                                    <div class="stat-label">平均完成时间</div>
                                </div>
                                ` : ''}
                                
                                <div class="stat-item">
                                    <div class="stat-value">${merchant.rating.toFixed(1)}</div>
                                    <div class="stat-label">用户评分</div>
                                </div>
                            </div>
                            
                            ${merchant.joinedPartnerProgram ? `
                            <div class="info-item verified">
                                <div class="verified-content">
                                    <i class="bi bi-shield-check"></i>
                                    <span>官方认证合作商</span>
                                </div>
                            </div>
                            ` : ''}
                        </div>
                    </div>
                </div>
            </div>
        `).join('');
    }

    // 渲染服务类型标签
    function renderServiceTypes(types) {
        if (!Array.isArray(types)) return '';
        const typeMap = {
            mobileRepair: '手机维修',
            computerRepair: '电脑维修',
            carRepair: '汽车维修',
            electricalRepair: '电器维修',
            plumbing: '管道维修'
        };
        return types.map(type => 
            `<span class="service-tag">${typeMap[type] || type}</span>`
        ).join('');
    }

    // 渲染分页
    function renderPagination(total) {
        const totalPages = Math.ceil(total / pageSize);
        const pagination = document.getElementById('pagination');
        
        let html = `
            <nav aria-label="Page navigation">
                <ul class="pagination justify-content-center">
                    <li class="page-item ${currentPage === 1 ? 'disabled' : ''}">
                        <a class="page-link" href="#" data-page="${currentPage - 1}">上一页</a>
                    </li>
            `;

        for (let i = 1; i <= totalPages; i++) {
            html += `
                <li class="page-item ${currentPage === i ? 'active' : ''}">
                    <a class="page-link" href="#" data-page="${i}">${i}</a>
                </li>
            `;
        }

        html += `
                    <li class="page-item ${currentPage === totalPages ? 'disabled' : ''}">
                        <a class="page-link" href="#" data-page="${currentPage + 1}">下一页</a>
                    </li>
                </ul>
            </nav>
        `;

        pagination.innerHTML = html;

        // 添加分页点击事件
        pagination.querySelectorAll('.page-link').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const page = parseInt(this.dataset.page);
                if (page && !isNaN(page) && page > 0 && page <= totalPages) {
                    currentPage = page;
                    loadMerchants(currentPage);
                }
            });
        });
    }

    // 添加搜索表单提交事件
    document.getElementById('searchForm').addEventListener('submit', function(e) {
        e.preventDefault();
        currentPage = 1;
        loadMerchants();
    });

    // 重置按钮事件
    document.querySelector('.reset-btn').addEventListener('click', function(e) {
        e.preventDefault();
        document.getElementById('searchForm').reset();
        loadMerchants(1);
    });

    // 初始加载
    loadMerchants();

    // 下拉选项点击处理
    const dropdownItems = document.querySelectorAll('.custom-dropdown .dropdown-item');
    const dropdownButton = document.querySelector('.custom-dropdown .dropdown-toggle');
    const hiddenInput = document.querySelector('input[name="serviceTypes"]');

    dropdownItems.forEach(item => {
        item.addEventListener('click', function(e) {
            e.preventDefault();
            const value = this.dataset.value;
            const text = this.textContent.trim();
            
            // 更新按钮文本
            dropdownButton.textContent = text;
            
            // 更新隐藏输入值
            hiddenInput.value = value;
            
            // 移除其他项的 active 类
            dropdownItems.forEach(i => i.classList.remove('active'));
            // 添加当前项的 active 类
            this.classList.add('active');
            
            // 触发表单更新（如果需要）
            const event = new Event('change', { bubbles: true });
            hiddenInput.dispatchEvent(event);
        });
    });

    // 处理国家选择
    const countryDropdown = document.querySelector('#countryDropdown');
    const countryItems = document.querySelectorAll('#countryDropdown + .dropdown-menu .dropdown-item');
    const countryInput = document.querySelector('input[name="country"]');

    countryItems.forEach(item => {
        item.addEventListener('click', function(e) {
            e.preventDefault();
            const value = this.dataset.value;
            const text = this.querySelector('span').textContent;
            
            countryDropdown.querySelector('span').textContent = text;
            countryInput.value = value;
            
            countryItems.forEach(i => i.classList.remove('active'));
            this.classList.add('active');
        });
    });

    // VIP 等级样式
    function getVipBadge(vipLevel) {
        const vipInfo = {
            1: { icon: 'bi-award', text: '银' },
            2: { icon: 'bi-award-fill', text: '金' },
            3: { icon: 'bi-gem', text: '铂' },
            4: { icon: 'bi-crown-fill', text: '黑' }
        };

        if (!vipInfo[vipLevel]) return '';

        const info = vipInfo[vipLevel];
        return `
            <span class="vip-badge vip-badge-${vipLevel}">
                <i class="bi ${info.icon}"></i>
                ${info.text}
            </span>
        `;
    }

    // 合作计划认证标识样式
    function getPartnerBadge(isPartner) {
        if (!isPartner) return '';
        return `
            <div class="partner-badge partner-badge-active">
                <i class="bi bi-shield-check"></i>
                <span>官方认证</span>
            </div>
        `;
    }
});
</script>

<!-- 在body标签内添加模态框 -->
<div class="modal fade" id="merchantDetailModal" tabindex="-1" aria-labelledby="merchantDetailModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="merchantDetailModalLabel">商户详情</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <!-- 商户Logo和基本信息 -->
          <div class="col-md-4 text-center">
            <img id="modalMerchantLogo" src="" alt="商户Logo" class="img-fluid rounded mb-3" style="max-width: 200px;">
            <div class="merchant-badges mb-3">
              <span id="modalVipBadge" class="vip-badge"></span>
              <span id="modalPartnerBadge" class="partner-badge"></span>
            </div>
          </div>
          <div class="col-md-8">
            <h4 id="modalMerchantName" class="mb-3"></h4>
            <div class="merchant-info">
              <p><i class="bi bi-person-circle"></i> 联系人：<span id="modalContactPerson"></span></p>
              <p><i class="bi bi-telephone"></i> 电话：<span id="modalContactPhone"></span></p>
              <p><i class="bi bi-envelope"></i> 邮箱：<span id="modalContactEmail"></span></p>
              <p><i class="bi bi-geo-alt"></i> 地址：<span id="modalAddress"></span></p>
              <p><i class="bi bi-clock"></i> 营业时间：<span id="modalWorkingHours"></span></p>
            </div>
          </div>
        </div>
        
        <!-- 服务信息 -->
        <div class="row mt-4">
          <div class="col-12">
            <h5 class="mb-3">服务信息</h5>
            <div class="service-tags mb-3" id="modalServiceTypes"></div>
            <div class="payment-methods mb-3">
              <strong>支付方式：</strong>
              <span id="modalPaymentMethods"></span>
            </div>
            <div class="ratings">
              <strong>评分：</strong>
              <span id="modalRating"></span>
              <span class="text-muted">(<span id="modalTotalReviews"></span>条评价)</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- 添加相关样式 -->
<style>
.service-tags .badge {
    margin-right: 8px;
    margin-bottom: 8px;
    padding: 8px 12px;
    font-size: 14px;
    background-color: rgba(76, 175, 80, 0.1);
    color: #4CAF50;
    border-radius: 20px;
}

.merchant-info p {
    margin-bottom: 10px;
}

.merchant-info i {
    width: 20px;
    color: #4CAF50;
    margin-right: 8px;
}

#modalMerchantLogo {
    border: 1px solid rgba(0,0,0,0.1);
    padding: 10px;
}
</style>

<!-- 添加JavaScript代码 -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // 添加调试日志
    console.log('DOM加载完成，开始初始化商户详情功能');
    
    // 初始化模态框
    const merchantDetailModal = new bootstrap.Modal(document.getElementById('merchantDetailModal'));
    
    // 服务类型映射
    const serviceTypeMap = {
        'carRepair': '汽车维修',
        'electricalRepair': '电器维修',
        'plumbing': '管道维修'
    };
    
    // 处理商户名称点击事件
    document.addEventListener('click', function(e) {
        const merchantNameLink = e.target.closest('.merchant-name-link');
        console.log('点击事件触发', e.target, merchantNameLink); // 调试日志
        
        if (merchantNameLink) {
            e.preventDefault();
            const merchantId = merchantNameLink.dataset.id;
            console.log('获取到商户ID:', merchantId); // 调试日志
            fetchMerchantDetail(merchantId);
        }
    });
    
    // 获取商户详情
    function fetchMerchantDetail(id) {
        console.log('开始获取商户详情, ID:', id);
        
        fetch(`http://127.0.0.1:8090/manage/base/repair-service-merchants/detail-for-main-page?id=${id}`)
            .then(response => response.json())
            .then(result => {
                console.log('获取到的数据:', result);
                if (result.success) {
                    // 处理日期字段
                    const data = result.data;
                    if (data.createTime) {
                        data.createTime = formatDate(data.createTime);
                    }
                    if (data.updateTime) {
                        data.updateTime = formatDate(data.updateTime);
                    }
                    if (data.licenseExpiry) {
                        data.licenseExpiry = formatDate(data.licenseExpiry);
                    }
                    
                    updateModalContent(data);
                    merchantDetailModal.show();
                } else {
                    alert('获取商户详情失败：' + result.message);
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('获取商户详情失败');
            });
    }
    
    // 日期格式化函数
    function formatDate(dateStr) {
        if (!dateStr) return '';
        try {
            const date = new Date(dateStr);
            return date.toLocaleDateString('zh-CN', {
                year: 'numeric',
                month: '2-digit',
                day: '2-digit'
            });
        } catch (e) {
            console.error('日期格式化错误:', e);
            return dateStr;
        }
    }
    
    // 更新模态框内容
    function updateModalContent(data) {
        // 更新基本信息
        document.getElementById('modalMerchantLogo').src = data.merchantLogo || 'assets/img/default-logo.png';
        document.getElementById('modalMerchantName').textContent = data.merchantName;
        document.getElementById('modalContactPerson').textContent = data.contactPerson;
        document.getElementById('modalContactPhone').textContent = data.contactPhone;
        document.getElementById('modalContactEmail').textContent = data.contactEmail;
        document.getElementById('modalAddress').textContent = `${data.province} ${data.city} ${data.address}`;
        document.getElementById('modalWorkingHours').textContent = data.workingHours;
        
        // 更新VIP等级标识
        const vipBadge = document.getElementById('modalVipBadge');
        if (data.vipLevel > 0) {
            vipBadge.className = `vip-badge vip-badge-${data.vipLevel}`;
            vipBadge.innerHTML = `<i class="bi bi-star-fill"></i> VIP${data.vipLevel}`;
        } else {
            vipBadge.style.display = 'none';
        }
        
        // 更新合作计划标识
        const partnerBadge = document.getElementById('modalPartnerBadge');
        if (data.joinedPartnerProgram) {
            partnerBadge.className = 'partner-badge partner-badge-active';
            partnerBadge.innerHTML = '<i class="bi bi-patch-check-fill"></i> 认证商户';
        } else {
            partnerBadge.style.display = 'none';
        }
        
        // 更新服务类型
        const serviceTypesContainer = document.getElementById('modalServiceTypes');
        serviceTypesContainer.innerHTML = data.serviceTypes
            .map(type => `<span class="badge">${serviceTypeMap[type] || type}</span>`)
            .join('');
        
        // 更新支付方式
        document.getElementById('modalPaymentMethods').textContent = 
            data.paymentMethods ? data.paymentMethods.join('、') : '暂无信息';
        
        // 更新评分信息
        document.getElementById('modalRating').textContent = data.rating.toFixed(1);
        document.getElementById('modalTotalReviews').textContent = data.totalReviews;
    }
});
</script>

</body>
</html>